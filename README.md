# SideProject_2

### Snowflake / Phoenix 서버 패턴
#### Immutable Infrastructure 패러다임 : Cloud와 Docker 적절한 패러다임
- 이미지 기반(Docker image, Amazon VM image 등) 애플리케이션 배포 시나리오
- 인프라가 만들어지고 거의 변경하지 않는 상태의 인프라
- 다수의 서버를 동적으로 관리하는 클라우드를 기반으로 어떻게 하면 유연하게 배포할 수 있을까에 대한 고민에서 나온 패러다임
- 예)새로운 버전의 서버가 있다면, 최신 버전의 서버를 준비한 다음 기존의 서버를 버리고, 새로운 서버로 replace 하는 것(기존의 서버를 update하는 것이 아니라)
- '기존의 서버를 어떻게하면 잘 관리할까?'가 아니라 -> 어떻게 하면 서버를 잘 쓰고 버리는 지에 포커스!!
  - 1) 개발 단에서 만들어진 인프라를 (Docker Image 1.0버전)
  - 2) 개발 단계에서 Dev Test를 거치고
  - 3) 스테이징 단계(실서비스 이전 단계)에서 테스트를 거치고 (1)의 Docker Image 1.0 버전을 갖고 테스트)
  - 4) 이를 프로덕션에 적용 (1)의 Docker Image 1.0 버전을 적용)
  - 5) 문제가 생길 경우(Docker Image 1.0), 현재 인프라를 수정하지 않고 새로운 버전 배포 (Docker Image 1.1로 1)부터 재시작)
  - 6) 원하는 버전을 지정한 재배포 지원 (Docker Image 1.1)

#### Snowflake(눈송이) 서버 패턴
- 서버를 한 번 셋업하고 나서, 설정을 변경하고, 패치를 적용하는 등의 업데이트를 지속적으로 적용/운영하는 서버
- 새로운 서버를 세팅하고자 할 때, 동일한 환경을 구성하기 어렵고, 누락된 설정이나 패치 등에 의해서 장애가 발생하는 경우가 많다.
- 한 번 설정을 하고 나면 다시 설정이 불가능한 "마치 눈처럼 녹아버리는" 서버 형태

#### Phoenix(피닉스) 서버 패턴 -> Immutable Infrastructure 패러다임을 적용한 서버 패턴
- 불 속에서 다시 태어나는(re-born)피닉스
- 한 번 생성된 서버는 거의 (거의) 수정해서 쓰지 않음
- 새로운 서버를 세팅할 떄마다, 처음 OS설치에서부터, 소프트웨어 인스톨, 설정 변경까지 모두 반복
- 매전 전체 설치를 반족할 경우, 긴 시간 소요
  - 보통, 베이스 이미지를 만들어놓고, 차이가 나는 부분만 재설정
  - Docker, Chef, Puppet, Vagrant, Packer, Serf와 같은 도구들을 활용하게 되면 셋업 시간을 조금 줄일 수 있음
